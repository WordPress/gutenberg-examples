!function(){"use strict";var e=window.wp.element,t=window.React,a=window.wp.blocks,l=window.wp.blockEditor,n=window.wp.data,s=window.wp.compose,c=window.wp.components;const i=["gutenberg-examples/example-11-tab-esnext"];(0,a.registerBlockType)("gutenberg-examples/example-11-tabs-esnext",{title:"Example: Tabs (ESNext)",category:"layout",icon:"universal-access-alt",example:"",attributes:{tabs:{type:"array",default:[]},activeTab:{type:"string",default:""}},edit:(0,s.compose)((0,n.withDispatch)(((e,t,a)=>{let{select:l}=a;const{getBlock:n}=l("core/block-editor"),{updateBlockAttributes:s,insertBlock:c}=e("core/block-editor"),i=n(t.clientId);return{insertBlock:c,setActiveTab(e){s(t.clientId,{activeTab:e}),i.innerBlocks.forEach((t=>{s(t.clientId,{activeTab:e})}))}}})))((n=>{let{clientId:s,className:r,attributes:o,setAttributes:b,setActiveTab:d,insertBlock:u}=n;const{tabs:m,activeTab:p}=o;return(0,t.useEffect)((()=>{m.length&&!p&&d(m[0].uid)}),[]),(0,e.createElement)("div",{className:r},(0,e.createElement)("div",{className:`${r}__tabs`},m.map(((t,a)=>{let{title:n,uid:s}=t,c=`${r}__tab`;return s===p&&(c+=` ${r}__tab--active`),(0,e.createElement)("div",{className:c,key:s,onClick:()=>d(s),onKeyDown:()=>d(s),role:"tab",tabIndex:"0"},(0,e.createElement)(l.RichText,{tagName:"div",value:n,onChange:e=>{const t=[...m];t[a].title=e,b({tabs:t})}}))})),(0,e.createElement)(c.IconButton,{icon:"plus",label:"Add Tab",onClick:()=>{const e=m.length,t=(0,a.createBlock)("gutenberg-examples/example-11-tab-esnext");u(t,e,s),b({tabs:[...m,{uid:t.clientId,title:"New Tab"}]}),d(t.clientId)}})),(0,e.createElement)(l.InnerBlocks,{allowedBlocks:i,renderAppender:!1}))})),save:t=>{let{attributes:a}=t;const n="wp-block-gutenberg-examples-example-11-tabs-esnext",{tabs:s}=a;return(0,e.createElement)("div",null,(0,e.createElement)("div",{className:`${n}__tabs`},s.map((t=>{let{title:a,uid:l}=t;return(0,e.createElement)("div",{key:l,"data-tab-id":l,className:`${n}__tab`},a)}))),(0,e.createElement)(l.InnerBlocks.Content,null))}}),(0,a.registerBlockType)("gutenberg-examples/example-11-tab-esnext",{title:"Example: Tab (ESNext)",parent:["gutenberg-examples/example-11-tabs-esnext"],category:"layout",example:"",attributes:{activeTab:{type:"string",default:""},uid:{type:"string",default:""}},edit:a=>{let{className:n,clientId:s,attributes:c,setAttributes:i}=a;const{activeTab:r,uid:o}=c;(0,t.useEffect)((()=>{o||i({uid:s})}),[]);const b=r===o?"block":"none";return(0,e.createElement)("div",{className:n,style:{display:b}},(0,e.createElement)(l.InnerBlocks,null))},save:t=>{let{className:a,attributes:n}=t;const{uid:s}=n;return(0,e.createElement)("div",{className:a,"data-tab-id":s},(0,e.createElement)(l.InnerBlocks.Content,null))}})}();